(this["webpackJsonpsocial-network-react"]=this["webpackJsonpsocial-network-react"]||[]).push([[3],{86:function(e,t,n){"use strict";t.a=n.p+"static/media/user.77e62bce.png"},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(41);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,s=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(o=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(i){s=!0,a=i}finally{try{o||null==c.return||c.return()}finally{if(s)throw a}}return n}}(e,t)||Object(o.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},89:function(e,t,n){e.exports={content:"ProfileInfo_content__3729m",wrapContentImageCover:"ProfileInfo_wrapContentImageCover__14hSb",contentImageCover:"ProfileInfo_contentImageCover__3QIyj",contentAvatarWrap:"ProfileInfo_contentAvatarWrap__maD4l",contentAvatar:"ProfileInfo_contentAvatar__14WrA",ownerAvatarEditor:"ProfileInfo_ownerAvatarEditor__37zC1",changePhotoBlock:"ProfileInfo_changePhotoBlock__1Eknb",btnChangeUserPhoto:"ProfileInfo_btnChangeUserPhoto__32RdG",userPhoto:"ProfileInfo_userPhoto__VDXxK",userName:"ProfileInfo_userName__20L_P",status:"ProfileInfo_status__2-slu",descriptionBlock:"ProfileInfo_descriptionBlock__2HVe7",bthEditProfile:"ProfileInfo_bthEditProfile__3vpAX",profileInfoItem:"ProfileInfo_profileInfoItem__1NUts",profileInfoContactLink:"ProfileInfo_profileInfoContactLink__2a9jB"}},91:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2Xne_",bthPublishPost:"MyPosts_bthPublishPost__2USFg"}},92:function(e,t,n){e.exports={item:"Post_item__2yY2_",ava:"Post_ava__2_-jE",like:"Post_like__ARnO3",message:"Post_message__1hC_w"}},95:function(e,t,n){"use strict";n.r(t);var o=n(3),s=n(26),a=n(27),r=n(29),c=n(28),i=n(0),l=n.n(i),u=n(87),f=n(89),j=n.n(f),b=n(1),p=function(e){var t=Object(i.useState)(!1),n=Object(u.a)(t,2),o=n[0],s=n[1],a=Object(i.useState)(e.status),r=Object(u.a)(a,2),c=r[0],l=r[1];Object(i.useEffect)((function(){l(e.status)}),[e.status]);return Object(b.jsxs)(b.Fragment,{children:[!o&&Object(b.jsx)("div",{onClick:function(){return s(!0)},className:j.a.status,children:e.status||"change status..."}),o&&Object(b.jsx)("div",{className:j.a.status,children:Object(b.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(c)},onChange:function(e){l(e.currentTarget.value)},value:c})})]})},h=n(86),d=n(18),m=n(21),O=function(e){var t=e.onSubmit,n=e.profile;return Object(b.jsx)(d.b,{onSubmit:t,initialValues:n,children:function(e){var t=e.handleSubmit,o=e.submitError;return Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsx)("button",{className:"".concat(j.a.bthEditProfile," btnDefault"),type:"submit",children:"Save"}),Object(b.jsx)("div",{className:j.a.profileInfoItem,children:Object(b.jsx)(d.a,{name:"fullName",component:m.a,placeholder:"full name"})}),Object(b.jsxs)("div",{className:j.a.profileInfoItem,children:[Object(b.jsx)("span",{children:"looking for a job"}),Object(b.jsx)("span",{style:{display:"inline-block"},children:Object(b.jsx)(d.a,{component:m.a,name:"lookingForAJob",type:"checkbox"})})]}),Object(b.jsxs)("div",{className:j.a.profileInfoItem,children:[Object(b.jsx)("p",{children:"My skills:"})," ",Object(b.jsx)(d.a,{name:"lookingForAJobDescription",component:m.b,placeholder:"my skills"})]}),Object(b.jsxs)("div",{className:j.a.profileInfoItem,children:[Object(b.jsx)("p",{children:"About me:"})," ",Object(b.jsx)(d.a,{name:"aboutMe",component:m.b,placeholder:"about me"})]}),Object(b.jsx)("div",{children:o&&Object(b.jsx)("div",{children:o})}),Object(b.jsxs)("div",{className:j.a.profileInfoItem,children:[Object(b.jsx)("p",{children:"Contacts:"}),Object.keys(n.contacts).map((function(e){return Object(b.jsxs)("div",{className:j.a.profileInfoContactLink,children:[Object(b.jsxs)("p",{children:[" ",e,": "]}),"  ",Object(b.jsx)(d.a,{component:m.a,name:"contacts.".concat([e])})]},e)}))]})]})}})},v=n.p+"static/media/profile-cover.97a7b2bf.jpg",x=function(e){var t=e.profile,n=e.isOwner,o=e.editModeOn;return Object(b.jsxs)("div",{className:j.a.profileInfo,children:[n&&Object(b.jsx)("button",{onClick:o,className:"".concat(j.a.bthEditProfile," btnDefault"),children:"Edit profile"}),Object(b.jsxs)("div",{className:j.a.profileInfoItem,children:[Object(b.jsx)("span",{children:"Looking for a job:"})," ",t.lookingForAJob?"yes":"no"]}),Object(b.jsxs)("div",{className:j.a.profileInfoItem,children:[Object(b.jsx)("span",{children:"My skills: "})," ",t.lookingForAJobDescription]}),Object(b.jsxs)("div",{className:j.a.profileInfoItem,children:[Object(b.jsx)("span",{children:"About me: "})," ",t.aboutMe]}),Object(b.jsxs)("div",{className:j.a.profileInfoItem,children:[Object(b.jsx)("p",{children:"Contacts: "}),Object.keys(t.contacts).map((function(e){return Object(b.jsx)(P,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},P=function(e){var t=e.contactTitle,n=e.contactValue;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:j.a.profileInfoContactLink,children:[t,": ",n,"  "]})})},_=function(e){var t=Object(i.useState)(!1),n=Object(u.a)(t,2),o=n[0],s=n[1],a=Object(i.useRef)(null);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:j.a.content,children:[Object(b.jsx)("div",{className:j.a.wrapContentImageCover,children:Object(b.jsx)("img",{src:v,alt:"\u043e\u0431\u043b\u043e\u0436\u043a\u0430",className:j.a.contentImageCover})}),Object(b.jsx)("div",{className:j.a.contentAvatarWrap,children:Object(b.jsxs)("div",{className:j.a.contentAvatar,children:[Object(b.jsx)("img",{src:e.profile.photos.large||h.a,alt:"profile",className:j.a.userPhoto}),e.isOwner&&Object(b.jsxs)("div",{className:j.a.changePhotoBlock,children:[Object(b.jsx)("input",{ref:a,type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},className:j.a.ownerAvatarEditor}),Object(b.jsx)("div",{onClick:function(e){a.current.click()},className:j.a.btnChangeUserPhoto,children:"Change photo"})]})]})}),Object(b.jsx)("h1",{className:j.a.userName,children:e.profile.fullName}),Object(b.jsx)(p,{status:e.status,updateStatus:e.updateStatus})]}),Object(b.jsx)("div",{className:j.a.descriptionBlock,children:o?Object(b.jsx)(O,{onSubmit:function(t){return e.saveProfile(t).then((function(){s(!1)})).catch((function(e){return e}))},profile:e.profile,initialValues:e.profile}):Object(b.jsx)(x,{profile:e.profile,isOwner:e.isOwner,editModeOn:function(){return s(!0)}})})]})},g=n(40),I=n(91),k=n.n(I),N=n(92),y=n.n(N),C=function(e){return Object(b.jsxs)("div",{className:y.a.item,children:[Object(b.jsx)("img",{className:y.a.ava,src:e.userPhoto,alt:"\u043a\u043e\u0442"}),Object(b.jsx)("p",{className:y.a.message,children:e.message}),Object(b.jsx)("img",{src:"https://img.icons8.com/fluent/48/000000/like.png",className:y.a.like,alt:"like"}),Object(b.jsx)("p",{children:e.likeCount})]})},S=n(32),w=function(e){var t=e.posts.map((function(t){return Object(b.jsx)(C,{userPhoto:e.profile.photos.large,message:t.post,likeCount:t.likeCount},t.id)}));return Object(b.jsxs)("div",{className:k.a.postsBlock,children:[Object(b.jsx)("h3",{children:"My posts"}),Object(b.jsx)(E,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(b.jsx)("div",{className:k.a.posts,children:t})]})},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},E=function(e){return Object(b.jsx)(d.b,{onSubmit:e.onSubmit,children:function(e){var t=e.handleSubmit;return Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsx)(d.a,{name:"newPostText",component:m.b,placeholder:"Enter your post...",validate:A(S.b,Object(S.a)(30))}),Object(b.jsx)("button",{className:"".concat(k.a.bthPublishPost," btnDefault"),children:"Publish"})]})}})},B=n(16),F=Object(B.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){e(Object(g.a)(t))}}}))(w),M=n(36),D=function(e){return e.profile?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(_,{savePhoto:e.savePhoto,saveProfile:e.saveProfile,profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),Object(b.jsx)(F,{profile:e.profile})]}):Object(b.jsx)(M.a,{})},T=n(5),U=n(22),J=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"updateProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(e,t){e.match.params.userId!==this.props.match.params.userId&&this.updateProfile()}},{key:"render",value:function(){return Object(b.jsx)(D,Object(o.a)(Object(o.a)({},this.props),{},{savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,isOwner:!this.props.match.params.userId}))}}]),n}(l.a.Component);t.default=Object(U.c)(Object(B.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfile:g.c,getStatus:g.d,updateStatus:g.g,savePhoto:g.e,saveProfile:g.f}),T.g)(J)}}]);
//# sourceMappingURL=3.b31ef4ff.chunk.js.map