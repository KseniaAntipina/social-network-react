{"version":3,"sources":["api/api.js","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","assets/images/preloader.svg","components/Preloader/Preloader.jsx","components/Header/Header.module.css","components/common/FormsControls/FormControl.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/users-reducer.js","reportWebVitals.js","components/Navbar/Navbar.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/redux-store.js","App.js","index.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersApi","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","uFollowed","delete","post","authAPI","auth","login","email","password","rememberMe","logout","profileAPI","getProfile","getStatus","updateStatus","status","put","module","exports","FormControl","input","meta","children","hasError","error","touched","className","styles","formControl","Textarea","props","restProps","child","submitError","Input","required","value","undefined","maxLengthCreator","maxLength","length","Preloader","src","preloader","alt","ADD_POST","UPDATE_NEW_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","initialState","posts","id","likeCount","newPostText","profile","profileReducer","state","action","type","filter","newText","addPostAC","setStatus","dispatch","a","resultCode","SEND_MESSAGE","messages","message","dialogs","name","sendMessageAC","newMessageBody","dialogsReducer","TOGGLE_FOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","usersReducer","map","u","followed","totalCount","toggleFollow","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","items","usersAPI","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","s","nav","to","activeClassName","active","Header","header","loginBlock","isAuth","onClick","SET_USER_DATA","authReducer","payload","setAuthUserData","getAuthUser","HeaderContainer","this","React","Component","connect","FORM_ERROR","onSubmit","formData","handleSubmit","component","placeholder","validate","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","messagesPage","usersPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","initializeApp","Suspense","fallback","path","render","Login","AppContainer","MainApp","basename","process","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.97d0293b.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"6424dc6d-8bde-4394-8237-e0e76a8e61d1\"\r\n    }\r\n})\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`, {\r\n            withCredentials: true,\r\n        }).then(response => response.data)\r\n    },\r\n    follow(userId, uFollowed) {\r\n        return uFollowed ?\r\n            instance.delete(`follow/${userId}`)\r\n            :\r\n            instance.post(`follow/${userId}`)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    auth() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/`+ userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/`+ userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3lUq3\",\"active\":\"Navbar_active__2S4SU\"};","import React from 'react'\r\nimport styles from './FormControl.module.css'\r\n\r\nconst FormControl = ({input, meta, children, ...props}) => {\r\n    const hasError = meta.error && meta.touched\r\n\r\n    return (\r\n        <>\r\n            <div className={`${styles.formControl} ${ hasError ? styles.error : meta.error}`}>\r\n                <div>\r\n                    {children}\r\n                </div>\r\n                { hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/>\r\n        {(meta.error || meta.submitError) && meta.touched && (\r\n            <span>{meta.error || meta.submitError}</span>\r\n        )}\r\n    </FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}","export const required = (value) => (value ? undefined : \"Required\");\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n     if  (value && value.length > maxLength)  return `Max length is ${maxLength} symbols`\r\n     return undefined\r\n}\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader.ef8b4852.svg\";","import React from 'react'\r\nimport preloader from \"../../assets/images/preloader.svg\";\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <img src={preloader} alt={\"загрузка\"}/>\r\n    )\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1F1ao\",\"loginBlock\":\"Header_loginBlock__1uwhi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__3erB2\",\"error\":\"FormControl_error__2t4Cc\"};","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST = 'UPDATE-NEW-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, post: 'how are you', likeCount: 10},\r\n        {id: 2, post: 'nice day', likeCount: 5},\r\n        {id: 3, post: 'yo yo yo', likeCount: 1},\r\n    ],\r\n    newPostText: 'Введите сообщение...',\r\n    profile: null,\r\n    status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 4, post: action.newPostText, likeCount: 1,}],\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.id)\r\n            }\r\n        case UPDATE_NEW_POST:\r\n            return {\r\n                ...state,\r\n                newPostText: action.newText\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport default profileReducer\r\n\r\nexport const addPostAC = (newPostText) => {\r\n    return {\r\n        type: ADD_POST, newPostText\r\n    }\r\n}\r\n\r\nexport const deletePostAC = (id) => {\r\n    return {\r\n        type: DELETE_POST, id\r\n    }\r\n}\r\n\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE, profile\r\n    }\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS, status\r\n    }\r\n}\r\n\r\nexport const getProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getProfile(userId)\r\n        dispatch(setUserProfile(response.data))\r\n    }\r\n}\r\n\r\nexport const getStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(response.data))\r\n    }\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n    }\r\n}","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {id: 1, message: 'yo'},\r\n        {id: 2, message: 'yo'},\r\n        {id: 3, message: 'yo'},\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Мама'},\r\n        {id: 2, name: 'Папа'},\r\n        {id: 3, name: 'Саша'},\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: action.newMessageBody}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageAC = (newMessageBody) => {\r\n    return {\r\n        type: SEND_MESSAGE, newMessageBody\r\n    }\r\n}\r\n\r\nexport default dialogsReducer","import {usersApi as usersAPI, usersApi} from \"../api/api\";\r\n\r\nconst TOGGLE_FOLLOW = 'TOGGLE_FOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case TOGGLE_FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                        return u.id === action.userId ? {...u, followed: !u.followed} : u\r\n                    }\r\n                )\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReducer\r\n\r\nexport const toggleFollow = (userId) => {\r\n    return {type: TOGGLE_FOLLOW, userId}\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n    return {type: SET_USERS, users}\r\n}\r\n\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {type: SET_CURRENT_PAGE, currentPage}\r\n}\r\n\r\nexport const setTotalUsersCount = (totalCount) => {\r\n    return {type: SET_TOTAL_COUNT, totalCount}\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching}\r\n}\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => {\r\n    return {type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId}\r\n}\r\n\r\nexport const requestUsers = (currentPage, pageSize) => { // -> ThunkCreator\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(currentPage));\r\n        dispatch(toggleIsFetching(true))\r\n\r\n        let data = await usersApi.getUsers(currentPage, pageSize)\r\n\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const follow = (userId, uFollowed) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n\r\n        let response = await usersAPI.follow(userId, uFollowed)\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(toggleFollow(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return <nav className={s.nav}>\r\n        <div>\r\n            <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n        </div>\r\n        <div>\r\n            <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n        </div>\r\n        <div>\r\n            <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n        </div>\r\n        <div>\r\n            <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n        </div>\r\n        <div>\r\n            <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n        </div>\r\n        <div>\r\n            <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n        </div>\r\n    </nav>\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img src='https://api.freelogodesign.org/assets/thumb/logo/16021951_400.png' alt={\"лого\"}/>\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth\r\n                ? <div>{props.login} - <button onClick={props.logout}>Log out</button> </div>\r\n                : <NavLink to={'/login'}>Login</NavLink> }\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {FORM_ERROR} from \"final-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n    return {type: SET_USER_DATA, payload: {userId, email, login, isAuth}}\r\n}\r\n\r\nexport const getAuthUser = () =>\r\n    async (dispatch) => {\r\n        let response = await authAPI.auth()\r\n        if (response.data.resultCode === 0) {\r\n            let {id, login, email} = response.data.data\r\n            dispatch(setAuthUserData(id, login, email, true))\r\n        }\r\n    }\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.login(email, password, rememberMe)\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUser())\r\n        } else {\r\n            return {[FORM_ERROR]: message}\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout()\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);\r\n\r\n","import React from 'react'\r\nimport {Form, Field} from 'react-final-form'\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    if (props.isAuth) {return <Redirect to={\"/profile\"}/>}\r\n    \r\n    const onSubmit = async (formData) => {\r\n        return await props.login(formData.email, formData.password, formData.rememberMe)\r\n    };\r\n    return (\r\n        <>\r\n            <h1>Login</h1>\r\n            <Form\r\n                onSubmit={onSubmit}>\r\n                {({handleSubmit, submitError}) => (\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div>\r\n                            <div><Field name=\"email\" component={Input} placeholder=\"email\" validate={required}/></div>\r\n                            <div><Field name=\"password\" component={Input} placeholder=\"input\" validate={required}\r\n                                        type={\"password\"}/></div>\r\n                            <div><Field component={Input} name={\"rememberMe\"} type={\"checkbox\"}/> remember me</div>\r\n                        </div>\r\n                        <button type=\"submit\">Login</button>\r\n                        <p>{submitError && <div>{submitError}</div>}</p>\r\n\r\n                    </form>\r\n                )}\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\n/*const Login = () => {\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginForm/>\r\n    </div>\r\n}*/\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(LoginForm);","import {getAuthUser} from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUser())\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n}","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n})\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {BrowserRouter, Route} from \"react-router-dom\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Profile/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <React.Suspense fallback={<Preloader/>}>\n                        <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n                        <Route path='/dialogs' render={() => <DialogsContainer/>}/>\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                    </React.Suspense>\n                    {/*<Route path='/news' component={News}/>*/}\n                    {/*<Route path='/music' component={Music}/>*/}\n                    {/*<Route path='/settings' component={Settings}/>*/}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = connect(mapStateToProps, {initializeApp})(App)\n\nexport const MainApp = (props) => {\n    return (\n        <BrowserRouter basename={process.env.PUBLIC_URL} >\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </BrowserRouter>\n    )\n}\n","import React from 'react';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {MainApp} from './App';\n\n\nReactDOM.render(\n     <MainApp/>, document.getElementById('root')\n);\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}