{"version":3,"sources":["components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.js","components/Header/Header.module.css","utils/validators/validators.js","assets/images/preloader.svg","components/Preloader/Preloader.jsx","components/common/FormsControls/FormControl.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/users-reducer.js","api/api.js","reportWebVitals.js","components/Navbar/Navbar.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/redux-store.js","App.js","index.js"],"names":["module","exports","FormControl","input","meta","children","hasError","error","touched","className","styles","formControl","Textarea","props","restProps","child","Input","required","value","undefined","maxLengthCreator","maxLength","length","Preloader","src","preloader","alt","ADD_POST","UPDATE_NEW_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","initialState","posts","id","post","likeCount","newPostText","profile","status","profileReducer","state","action","type","filter","newText","photos","addPostAC","setStatus","getProfile","userId","dispatch","a","profileAPI","response","data","console","log","getStatus","updateStatus","resultCode","message","savePhoto","file","saveProfile","profileData","getState","auth","messages","Promise","reject","FORM_ERROR","SEND_MESSAGE","dialogs","name","sendMessageAC","newMessageBody","dialogsReducer","TOGGLE_FOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","usersReducer","map","u","followed","totalCount","toggleFollow","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","usersApi","getUsers","items","follow","uFollowed","usersAPI","instance","axios","withCredentials","baseURL","headers","get","then","delete","authAPI","login","email","password","rememberMe","captcha","logout","put","photo","formData","FormData","append","securityAPI","getCaptcha","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","s","nav","to","activeClassName","active","Header","header","logoBlock","loginBlock","isAuth","loginBlockText","onClick","SET_USER_DATA","GET_CAPTCHA_SUCCESS","captchaUrl","authReducer","payload","setAuthUserData","getAuthUser","url","HeaderContainer","this","React","Component","connect","onSubmit","handleSubmit","submitError","component","placeholder","validate","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","messagesPage","usersPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","catchAllUnhandledErrors","reason","promise","alert","initializeApp","addEventListener","removeEventListener","Suspense","fallback","path","render","Login","exact","from","AppContainer","MainApp","ReactDOM","document","getElementById"],"mappings":"sHACAA,EAAOC,QAAU,CAAC,IAAM,oBAAoB,OAAS,yB,sJCE/CC,EAAc,SAAC,GAAsC,EAArCC,MAAsC,IAA/BC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,SACzBC,GADiD,2CACtCF,EAAKG,OAASH,EAAKI,SAEpC,OACI,mCACI,sBAAKC,UAAS,UAAKC,IAAOC,YAAZ,YAA2BL,EAAWI,IAAOH,MAAQ,IAAnE,UACI,mCACKF,IAEJC,GAAY,+BAAOF,EAAKG,cAM5BK,EAAW,SAACC,GACrB,IAAOV,EAAoCU,EAApCV,MAAuBW,GAAaD,EAA7BT,KAA6BS,EAAvBE,MAApB,YAA2CF,EAA3C,2BAEA,OACI,cAACX,EAAD,2BAAiBW,GAAjB,aACI,oDAAcV,GAAWW,QAKxBE,EAAQ,SAACH,GAClB,IAAOV,EAAoCU,EAApCV,MAAuBW,GAAaD,EAA7BT,KAA6BS,EAAvBE,MAApB,YAA2CF,EAA3C,2BACA,OAAO,cAACX,EAAD,2BAAiBW,GAAjB,aAAwB,iDAAWV,GAAWW,S,mBC7BzDd,EAAOC,QAAU,CAAC,OAAS,uBAAuB,UAAY,0BAA0B,eAAiB,iC,gCCDzG,oEAAO,IAAMgB,EAAW,SAACC,GAAD,OAAYA,OAAQC,EAAY,YAE3CC,EAAmB,SAACC,GAAD,OAAe,SAACH,GAC3C,GAAKA,GAASA,EAAMI,OAASD,EAAY,MAAM,iBAAN,OAAwBA,EAAxB,e,yCCH/B,MAA0B,sC,OCS1BE,IANG,WACd,OACI,qBAAKC,IAAKC,EAAWC,IAAK,uD,mBCJlC1B,EAAOC,QAAU,CAAC,YAAc,iCAAiC,MAAQ,6B,6SCEnE0B,EAAW,WACXC,EAAkB,kBAClBC,EAAmB,mBACnBC,EAAa,aACbC,EAAc,cACdC,EAAqB,qBAGvBC,EAAe,CACfC,MAAO,CACH,CAACC,GAAI,EAAGC,KAAM,cAAeC,UAAW,IACxC,CAACF,GAAI,EAAGC,KAAM,WAAYC,UAAW,GACrC,CAACF,GAAI,EAAGC,KAAM,WAAYC,UAAW,IAEzCC,YAAa,uGACbC,QAAS,KACTC,OAAQ,IA2CGC,IAxCQ,WAAmC,IAAlCC,EAAiC,uDAAzBT,EAAcU,EAAW,uCAErD,OAAQA,EAAOC,MACX,KAAKjB,EACD,OAAO,2BACAe,GADP,IAEIR,MAAM,GAAD,mBAAMQ,EAAMR,OAAZ,CAAmB,CAACC,GAAI,EAAGC,KAAMO,EAAOL,YAAaD,UAAW,OAE7E,KAAKN,EACD,OAAO,2BACAW,GADP,IAEIR,MAAOQ,EAAMR,MAAMW,QAAO,SAAAT,GAAI,OAAIA,EAAKD,KAAOQ,EAAOR,QAE7D,KAAKP,EACD,OAAO,2BACAc,GADP,IAEIJ,YAAaK,EAAOG,UAE5B,KAAKjB,EACD,OAAO,2BACAa,GADP,IAEIH,QAASI,EAAOJ,UAGxB,KAAKT,EACD,OAAO,2BACAY,GADP,IAEIF,OAAQG,EAAOH,SAEvB,KAAKR,EACD,OAAO,2BACAU,GADP,IAEIH,QAAQ,2BAAKG,EAAMH,SAAZ,IAAqBQ,OAAQJ,EAAOI,WAEnD,QACI,OAAOL,IAOZ,IAAMM,EAAY,SAACV,GACtB,MAAO,CACHM,KAAMjB,EAAUW,gBAgBXW,EAAY,SAACT,GACtB,MAAO,CACHI,KAAMd,EAAYU,WAUbU,EAAa,SAACC,GACvB,8CAAO,WAAOC,GAAP,eAAAC,EAAA,sEACkBC,IAAWJ,WAAWC,GADxC,OACCI,EADD,OAEHH,GArBuBb,EAqBCgB,EAASC,KApB9B,CACHZ,KAAMf,EAAkBU,aAoBxBkB,QAAQC,IAAIH,EAASC,MAHlB,iCAnBmB,IAACjB,IAmBpB,OAAP,uDAOSoB,EAAY,SAACR,GACtB,8CAAO,WAAOC,GAAP,eAAAC,EAAA,sEACkBC,IAAWK,UAAUR,GADvC,OACCI,EADD,OAEHH,EAASH,EAAUM,EAASC,OAFzB,2CAAP,uDAMSI,EAAe,SAACpB,GACzB,8CAAO,WAAOY,GAAP,SAAAC,EAAA,+EAEsBC,IAAWM,aAAapB,GAF9C,OAGkC,IAHlC,OAGcgB,KAAKK,YACdT,EAASH,EAAUT,IAJxB,yEAOQ,KAAEsB,SAPV,yDAAP,uDAaSC,EAAY,SAACC,GACtB,8CAAO,WAAOZ,GAAP,eAAAC,EAAA,sEACkBC,IAAWS,UAAUC,GADvC,OAE8B,KAD7BT,EADD,QAEUC,KAAKK,YACdT,GAvCqBL,EAuCKQ,EAASC,KAAKA,KAAKT,OAtC9C,CACHH,KAAMZ,EAAoBe,YAkCvB,iCApCqB,IAACA,IAoCtB,OAAP,uDAQSkB,EAAc,SAACC,GAAD,8CAAiB,WAAOd,EAAUe,GAAjB,mBAAAd,EAAA,6DAQlCF,EAASgB,IAAWC,KAAKjB,OARS,SASjBG,IAAWW,YAAYC,GATN,UASlCX,EATkC,OAUpCO,EAAUP,EAASC,KAAKa,SAAS/C,OAAS,EAAIiC,EAASC,KAAKa,SAAS,GAAK,aAE7C,IAA7Bd,EAASC,KAAKK,WAZsB,gBAapCT,EAASF,EAAWC,IAbgB,gDAiB7BmB,QAAQC,OAAR,eAAiBC,IAAaV,KAjBD,4CAAjB,0D,qFCpIrBW,EAAe,eAEjBxC,EAAe,CACfoC,SAAU,CACN,CAAClC,GAAI,EAAG2B,QAAS,MACjB,CAAC3B,GAAI,EAAG2B,QAAS,MACjB,CAAC3B,GAAI,EAAG2B,QAAS,OAErBY,QAAS,CACL,CAACvC,GAAI,EAAGwC,KAAM,4BACd,CAACxC,GAAI,EAAGwC,KAAM,4BACd,CAACxC,GAAI,EAAGwC,KAAM,8BAiBTC,EAAgB,SAACC,GAC1B,MAAO,CACHjC,KAAM6B,EAAcI,mBAIbC,IAnBQ,WAAmC,IAAlCpC,EAAiC,uDAAzBT,EAAcU,EAAW,uCAErD,OAAQA,EAAOC,MACX,KAAK6B,EACD,OAAO,2BACA/B,GADP,IAEI2B,SAAS,GAAD,mBAAM3B,EAAM2B,UAAZ,CAAsB,CAAClC,GAAI,EAAG2B,QAASnB,EAAOkC,oBAE9D,QACI,OAAOnC,K,yNCtBbqC,EAAgB,gBAChBC,EAAY,YACZC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAqB,qBACrBC,EAA+B,+BAEjCnD,EAAe,CACfoD,MAAO,GACPC,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbC,YAAY,EACZC,oBAAqB,IAkCVC,IA/BM,WAAmC,IAAlCjD,EAAiC,uDAAzBT,EAAcU,EAAW,uCAEnD,OAAQA,EAAOC,MACX,KAAKmC,EACD,OAAO,2BACArC,GADP,IAEI2C,MAAO3C,EAAM2C,MAAMO,KAAI,SAAAC,GACf,OAAOA,EAAE1D,KAAOQ,EAAOQ,OAAhB,2BAA6B0C,GAA7B,IAAgCC,UAAWD,EAAEC,WAAYD,OAIhF,KAAKb,EACD,OAAO,2BAAItC,GAAX,IAAkB2C,MAAO1C,EAAO0C,QACpC,KAAKJ,EACD,OAAO,2BAAIvC,GAAX,IAAkB8C,YAAa7C,EAAO6C,cAC1C,KAAKN,EACD,OAAO,2BAAIxC,GAAX,IAAkB6C,gBAAiB5C,EAAOoD,aAC9C,KAAKZ,EACD,OAAO,2BAAIzC,GAAX,IAAkB+C,WAAY9C,EAAO8C,aACzC,KAAKL,EACD,OAAO,2BACA1C,GADP,IAEIgD,oBAAqB/C,EAAO8C,WAAP,sBACb/C,EAAMgD,qBADO,CACc/C,EAAOQ,SACpCT,EAAMgD,oBAAoB7C,QAAO,SAAAV,GAAE,OAAIA,IAAOQ,EAAOQ,YAEnE,QACI,OAAOT,IAMZ,IAAMsD,EAAe,SAAC7C,GACzB,MAAO,CAACP,KAAMmC,EAAe5B,WAOpB8C,EAAiB,SAACT,GAC3B,MAAO,CAAC5C,KAAMqC,EAAkBO,gBAOvBU,EAAmB,SAACT,GAC7B,MAAO,CAAC7C,KAAMuC,EAAoBM,eAGzBU,EAA0B,SAACV,EAAYtC,GAChD,MAAO,CAACP,KAAMwC,EAA8BK,aAAYtC,WAG/CiD,EAAe,SAACZ,EAAaF,GACtC,8CAAO,WAAOlC,GAAP,eAAAC,EAAA,6DACHD,EAAS6C,EAAeT,IACxBpC,EAAS8C,GAAiB,IAFvB,SAIcG,IAASC,SAASd,EAAaF,GAJ7C,OAIC9B,EAJD,OAMHJ,EAAS8C,GAAiB,IAC1B9C,GA5BiBiC,EA4BC7B,EAAK+C,MA3BpB,CAAC3D,KAAMoC,EAAWK,WA4BrBjC,GArB2B2C,EAqBCvC,EAAKuC,WApB9B,CAACnD,KAAMsC,EAAiBa,gBAYxB,iCAbuB,IAACA,EARVV,IAqBd,OAAP,uDAYSmB,EAAS,SAACrD,EAAQsD,GAC3B,8CAAO,WAAOrD,GAAP,SAAAC,EAAA,6DACHD,EAAS+C,GAAwB,EAAMhD,IADpC,SAGkBuD,IAASF,OAAOrD,EAAQsD,GAH1C,OAK8B,IAL9B,OAKUjD,KAAKK,YACdT,EAAS4C,EAAa7C,IAE1BC,EAAS+C,GAAwB,EAAOhD,IARrC,2CAAP,wD,yECzFJ,oJAEMwD,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACL,UAAW,0CAINV,EAAW,CACpBC,SADoB,WACsB,IAAjCd,EAAgC,uDAAlB,EAAGF,EAAe,uDAAJ,GACjC,OAAOqB,EAASK,IAAT,qBAA2BxB,EAA3B,kBAAgDF,GAAY,CAC/DuB,iBAAiB,IAClBI,MAAK,SAAA1D,GAAQ,OAAIA,EAASC,SAEjCgD,OANoB,SAMbrD,EAAQsD,GACX,OAAOA,EACHE,EAASO,OAAT,iBAA0B/D,IAE1BwD,EAASvE,KAAT,iBAAwBe,MAIvBgE,EAAU,CACnB/C,KADmB,WAEf,OAAOuC,EAASK,IAAT,YAEXI,MAJmB,SAIbC,EAAOC,GAAgD,IAAtCC,EAAqC,wDAAjBC,EAAiB,uDAAN,KAClD,OAAOb,EAASvE,KAAT,aAA4B,CAACiF,QAAOC,WAAUC,aAAYC,aAErEC,OAPmB,WAQf,OAAOd,EAASO,OAAT,gBAIF5D,EAAa,CACtBJ,WADsB,SACXC,GACP,OAAOwD,EAASK,IAAI,WAAY7D,IAEpCQ,UAJsB,SAIZR,GACN,OAAOwD,EAASK,IAAI,kBAAmB7D,IAE3CS,aAPsB,SAOTpB,GACT,OAAOmE,EAASe,IAAT,iBAA+B,CAAClF,OAAQA,KAEnDuB,UAVsB,SAUZ4D,GACN,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBhB,EAASe,IAAT,gBAA8BE,IAEzC3D,YAfsB,SAeVC,GACR,OAAOyC,EAASe,IAAT,UAAwBxD,KAI1B6D,EAAc,CACvBC,WADuB,WAEnB,OAAOrB,EAASK,IAAT,+B,2DC9CAiB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlB,MAAK,YAAkD,IAA/CmB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,iGCUCO,EAbA,WACX,OACI,sBAAKhI,UAAWiI,IAAEC,IAAlB,UACI,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBH,IAAEI,OAA1C,qBACA,cAAC,IAAD,CAASF,GAAG,WAAWC,gBAAiBH,IAAEI,OAA1C,sBACA,cAAC,IAAD,CAASF,GAAG,SAASC,gBAAiBH,IAAEI,OAAxC,mBACA,cAAC,IAAD,CAASF,GAAG,QAAQC,gBAAiBH,IAAEI,OAAvC,kBACA,cAAC,IAAD,CAASF,GAAG,SAASC,gBAAiBH,IAAEI,OAAxC,mBACA,cAAC,IAAD,CAASF,GAAG,YAAYC,gBAAiBH,IAAEI,OAA3C,0B,+BCSGC,EAjBA,SAAClI,GACZ,OACI,yBAAQJ,UAAWiI,IAAEM,OAArB,UACI,sBAAKvI,UAAWiI,IAAEO,UAAlB,UACI,qBAAKzH,IAAI,wFACJE,IAAK,6BACV,kDAEJ,qBAAKjB,UAAWiI,IAAEQ,WAAlB,SACKrI,EAAMsI,OACD,qCAAE,qBAAK1I,UAAWiI,IAAEU,eAAlB,SAAmCvI,EAAMuG,QAA3C,KAAyD,wBAAQiC,QAASxI,EAAM4G,OAAQhH,UAAU,aAAzC,wBACzD,cAAC,IAAD,CAASmI,GAAI,SAAUnI,UAAU,aAAjC,yB,sDCZhB6I,EAAgB,gBAChBC,EAAsB,sBAExBtH,EAAe,CACfkB,OAAQ,KACRkE,MAAO,KACPD,MAAO,KACP3B,YAAY,EACZ0D,QAAQ,EACRK,WAAY,MAiBDC,EAdK,WAAmC,IAAlC/G,EAAiC,uDAAzBT,EAAcU,EAAW,uCAElD,OAAQA,EAAOC,MACX,KAAK0G,EACL,KAAKC,EACD,OAAO,2BACA7G,GACAC,EAAO+G,SAElB,QACI,OAAOhH,IAMNiH,EAAkB,SAACxG,EAAQkE,EAAOD,EAAO+B,GAClD,MAAO,CAACvG,KAAM0G,EAAeI,QAAS,CAACvG,SAAQkE,QAAOD,QAAO+B,YAOpDS,EAAc,WACvB,8CAAO,WAAOxG,GAAP,uBAAAC,EAAA,sEACkB8D,IAAQ/C,OAD1B,OAE8B,KAD7Bb,EADD,QAEUC,KAAKK,aAAmB,EACRN,EAASC,KAAKA,KAAlCrB,EAD2B,EAC3BA,GAAIiF,EADuB,EACvBA,MAAOC,EADgB,EAChBA,MAChBjE,EAASuG,EAAgBxH,EAAIiF,EAAOC,GAAO,KAJ5C,2CAAP,uDAiCSW,EAAa,WACtB,8CAAO,WAAO5E,GAAP,iBAAAC,EAAA,sEACkB0E,IAAYC,aAD9B,OACCzE,EADD,OAEGiE,EAAUjE,EAASC,KAAKqG,IAC9BzG,EAzCG,CAACR,KAAM2G,EAAqBG,QAAS,CAACF,WAyCdhC,KAHxB,2CAAP,uDCpEEsC,E,4JAEF,WACI,OACI,cAAC,EAAD,eAAYC,KAAKlJ,Y,GAJCmJ,IAAMC,WAcrBC,eALS,SAACxH,GAAD,MAAY,CAChCyG,OAAQzG,EAAM0B,KAAK+E,OACnB/B,MAAO1E,EAAM0B,KAAKgD,SAGiB,CAACK,OD4ClB,WAClB,8CAAO,WAAOrE,GAAP,SAAAC,EAAA,sEACkB8D,IAAQM,SAD1B,OAE8B,IAF9B,OAEUjE,KAAKK,YACdT,EAASuG,EAAgB,KAAM,KAAM,MAAM,IAH5C,2CAAP,wDC7CWO,CAAkCJ,G,wBC8BlCI,eALS,SAACxH,GAAD,MAAY,CAChCyG,OAAQzG,EAAM0B,KAAK+E,OACnBK,WAAY9G,EAAM0B,KAAKoF,cAGa,CAACpC,MFDpB,SAACC,EAAOC,EAAUC,EAAYC,GAC/C,8CAAO,WAAOpE,GAAP,iBAAAC,EAAA,sEACkB8D,IAAQC,MAAMC,EAAOC,EAAUC,EAAYC,GAD7D,UACCjE,EADD,OAECO,EAAUP,EAASC,KAAKa,SAAS/C,OAAS,EAAIiC,EAASC,KAAKa,SAAS,GAAK,aAC7C,IAA7Bd,EAASC,KAAKK,WAHf,gBAICT,EAASwG,KAJV,8BAMkC,KAA7BrG,EAASC,KAAKK,YACdT,EAAS4E,KAPd,iCASUxD,IAAaV,IATvB,4CAAP,wDEAWoG,EAzCG,SAACrJ,GAEf,GAAIA,EAAMsI,OAAS,OAAO,cAAC,IAAD,CAAUP,GAAI,aAExC,IAAMuB,EAAQ,uCAAG,WAAOvC,GAAP,SAAAvE,EAAA,sEACAxC,EAAMuG,MAAMQ,EAASP,MAAOO,EAASN,SAAUM,EAASL,WAAYK,EAAS4B,YAD7E,mFAAH,sDAGd,OACI,qCACI,uCACA,cAAC,IAAD,CACIW,SAAUA,EADd,SAEK,gBAAEC,EAAF,EAAEA,aAAcC,EAAhB,EAAgBA,YAAhB,OACG,uBAAMF,SAAUC,EAAhB,UACI,gCACI,8BAAK,cAAC,IAAD,CAAOzF,KAAK,QAAQ2F,UAAWtJ,IAAOuJ,YAAY,QAAQC,SAAUvJ,QACzE,8BAAK,cAAC,IAAD,CAAO0D,KAAK,WAAW2F,UAAWtJ,IAAOuJ,YAAY,QAAQC,SAAUvJ,IAChE2B,KAAM,eAClB,gCAAK,cAAC,IAAD,CAAO0H,UAAWtJ,IAAO2D,KAAM,aAAc/B,KAAM,aAAxD,qBAEJ,wBAAQA,KAAK,SAAb,mBAEC/B,EAAM2I,YAAc,qBAAKhI,IAAKX,EAAM2I,WAAY9H,IAAK,YACrDb,EAAM2I,YAAc,cAAC,IAAD,CAAOc,UAAWtJ,IACX2D,KAAM,aACN4F,YAAa,qBACbC,SAAUvJ,MAEtC,4BAAIoJ,GAAe,8BAAMA,kBClC3CI,EAAsB,sBAExBxI,EAAe,CACfyI,aAAa,GAgBFC,EAbI,WAAmC,IAAlCjI,EAAiC,uDAAzBT,EAAcU,EAAW,uCAEjD,OAAQA,EAAOC,MACX,KAAK6H,EACD,OAAO,2BACA/H,GADP,IAEIgI,aAAa,IAErB,QACI,OAAOhI,I,gDCVfkI,EAAWC,YAAgB,CAC3BC,YAAarI,IACbsI,aAAcjG,IACdkG,UAAWrF,IACXvB,KAAMqF,EACNwB,IAAKN,IAIHO,EAAmBC,OAAOC,sCAAwCC,IAClEC,EAAQC,YAAYX,EAAUM,EAAiBM,YAAgBC,OAIrEN,OAAOO,UAAYJ,EAEJA,SCbTK,GAAmB3B,IAAM4B,MAAK,kBAAM,gCACpCC,GAAmB7B,IAAM4B,MAAK,kBAAM,gCACpCE,GAAiB9B,IAAM4B,MAAK,kBAAM,gCAGlCG,G,4MAEFC,wBAA0B,SAACC,EAAQC,GAC/BC,MAAM,uB,uDAGV,WACIpC,KAAKlJ,MAAMuL,gBACXjB,OAAOkB,iBAAiB,qBAAsBtC,KAAKiC,2B,kCAGvD,WACIb,OAAOmB,oBAAoB,qBAAsBvC,KAAKiC,2B,oBAG1D,WAEI,OAAKjC,KAAKlJ,MAAM6J,YAKZ,sBAAKjK,UAAU,cAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,qBAAKA,UAAU,sBAAf,SACI,cAAC,IAAM8L,SAAP,CAAgBC,SAAU,cAACjL,EAAA,EAAD,IAA1B,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOkL,KAAK,oBAAoBC,OAAQ,kBAAM,cAACb,GAAD,OAC9C,cAAC,IAAD,CAAOY,KAAK,WAAWC,OAAQ,kBAAM,cAACf,GAAD,OACrC,cAAC,IAAD,CAAOc,KAAK,SAASC,OAAQ,kBAAM,cAACZ,GAAD,OACnC,cAAC,IAAD,CAAOW,KAAK,SAASC,OAAQ,kBAAM,cAACC,EAAD,OACnC,cAAC,IAAD,CAAUC,OAAK,EAACC,KAAK,wBAAwBjE,GAAG,sBAChD,cAAC,IAAD,CAAO6D,KAAK,IAAIC,OAAQ,kBAAM,6DAfvC,cAACnL,EAAA,EAAD,Q,GAlBDyI,IAAMC,WAiDpB6C,GAAe5C,aAJK,SAACxH,GAAD,MAAY,CAChCgI,YAAahI,EAAMuI,IAAIP,eAGiB,CAAC0B,cFvChB,kBAAM,SAAChJ,GAClBA,EAASwG,KACf3C,MAAK,WACT7D,EALiC,CAACR,KAAM6H,UEyC7BP,CAA0C6B,IAEhDgB,GAAU,SAAClM,GACpB,OACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAUyK,MAAOA,GAAjB,SACI,cAACwB,GAAD,SChEhBE,IAASN,OACJ,cAAC,GAAD,IAAYO,SAASC,eAAe,SAQzCjF,M","file":"static/js/main.8f75b015.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3lUq3\",\"active\":\"Navbar_active__2S4SU\"};","import React from 'react'\r\nimport styles from './FormControl.module.css'\r\n\r\nconst FormControl = ({input, meta, children, ...props}) => {\r\n    const hasError = meta.error && meta.touched\r\n\r\n    return (\r\n        <>\r\n            <div className={`${styles.formControl} ${hasError ? styles.error : ''}`}>\r\n                <>\r\n                    {children}\r\n                </>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps}/>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1F1ao\",\"logoBlock\":\"Header_logoBlock__3pscq\",\"loginBlockText\":\"Header_loginBlockText__uhPMs\"};","export const required = (value) => (value ? undefined : \"Required\");\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n     if  (value && value.length > maxLength)  return `Max length is ${maxLength} symbols`\r\n     return undefined\r\n}\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader.ef8b4852.svg\";","import React from 'react'\r\nimport preloader from \"../../assets/images/preloader.svg\";\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <img src={preloader} alt={\"загрузка\"}/>\r\n    )\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__3erB2\",\"error\":\"FormControl_error__2t4Cc\"};","import {profileAPI} from \"../api/api\";\r\nimport {FORM_ERROR} from \"final-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST = 'UPDATE-NEW-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, post: 'how are you', likeCount: 10},\r\n        {id: 2, post: 'nice day', likeCount: 5},\r\n        {id: 3, post: 'yo yo yo', likeCount: 1},\r\n    ],\r\n    newPostText: 'Введите сообщение...',\r\n    profile: null,\r\n    status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 4, post: action.newPostText, likeCount: 1,}],\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.id)\r\n            }\r\n        case UPDATE_NEW_POST:\r\n            return {\r\n                ...state,\r\n                newPostText: action.newText\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n                // profile: {...state.profile, ...action.profile}\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport default profileReducer\r\n\r\nexport const addPostAC = (newPostText) => {\r\n    return {\r\n        type: ADD_POST, newPostText\r\n    }\r\n}\r\n\r\nexport const deletePostAC = (id) => {\r\n    return {\r\n        type: DELETE_POST, id\r\n    }\r\n}\r\n\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE, profile\r\n    }\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS, status\r\n    }\r\n}\r\n\r\nexport const savePhotoSuccess = (photos) => {\r\n    return {\r\n        type: SAVE_PHOTO_SUCCESS, photos\r\n    }\r\n}\r\n\r\nexport const getProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getProfile(userId)\r\n        dispatch(setUserProfile(response.data))\r\n        console.log(response.data)\r\n    }\r\n}\r\n\r\nexport const getStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(response.data))\r\n    }\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let response = await profileAPI.updateStatus(status)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status))\r\n            }\r\n        } catch (e) {\r\n            return e.message\r\n            // вывести ошибку задиспачить\r\n        }\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.savePhoto(file)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(savePhotoSuccess(response.data.data.photos))\r\n        }\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profileData) => async (dispatch, getState) => {\r\n    /*const response = await profileAPI.saveProfile(profileData)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        console.log(profileData)\r\n        dispatch(setUserProfile(profileData))\r\n    }*/\r\n    // сделать рефакторинг: убрать лишний запрос на сервер\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profileData);\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getProfile(userId));\r\n    } else {\r\n\r\n        // return {[FORM_ERROR]: message}\r\n        return Promise.reject({[FORM_ERROR]: message})\r\n\r\n    }\r\n}","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {id: 1, message: 'yo'},\r\n        {id: 2, message: 'yo'},\r\n        {id: 3, message: 'yo'},\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Мама'},\r\n        {id: 2, name: 'Папа'},\r\n        {id: 3, name: 'Саша'},\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: action.newMessageBody}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageAC = (newMessageBody) => {\r\n    return {\r\n        type: SEND_MESSAGE, newMessageBody\r\n    }\r\n}\r\n\r\nexport default dialogsReducer","import {usersApi as usersAPI, usersApi} from \"../api/api\";\r\n\r\nconst TOGGLE_FOLLOW = 'TOGGLE_FOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case TOGGLE_FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                        return u.id === action.userId ? {...u, followed: !u.followed} : u\r\n                    }\r\n                )\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReducer\r\n\r\nexport const toggleFollow = (userId) => {\r\n    return {type: TOGGLE_FOLLOW, userId}\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n    return {type: SET_USERS, users}\r\n}\r\n\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {type: SET_CURRENT_PAGE, currentPage}\r\n}\r\n\r\nexport const setTotalUsersCount = (totalCount) => {\r\n    return {type: SET_TOTAL_COUNT, totalCount}\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching}\r\n}\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => {\r\n    return {type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId}\r\n}\r\n\r\nexport const requestUsers = (currentPage, pageSize) => { // -> ThunkCreator\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(currentPage));\r\n        dispatch(toggleIsFetching(true))\r\n\r\n        let data = await usersApi.getUsers(currentPage, pageSize)\r\n\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const follow = (userId, uFollowed) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n\r\n        let response = await usersAPI.follow(userId, uFollowed)\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(toggleFollow(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"6424dc6d-8bde-4394-8237-e0e76a8e61d1\"\r\n    }\r\n})\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`, {\r\n            withCredentials: true,\r\n        }).then(response => response.data)\r\n    },\r\n    follow(userId, uFollowed) {\r\n        return uFollowed ?\r\n            instance.delete(`follow/${userId}`)\r\n            :\r\n            instance.post(`follow/${userId}`)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    auth() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha  = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/`+ userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/`+ userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photo) {\r\n        const formData = new FormData()\r\n        formData.append(\"image\", photo)\r\n        return instance.put(`profile/photo`, formData)\r\n    },\r\n    saveProfile(profileData) {\r\n        return instance.put(`profile`, profileData)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n            <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n            <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n            <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n            <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.logoBlock}>\r\n                <img src='https://u.netology.ngcdn.ru/backend/uploads/page_assets/images/file/1093/Flaticon.png'\r\n                     alt={\"лого\"}/>\r\n                <p>social network</p>\r\n            </div>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <><div className={s.loginBlockText}>{props.login}</div>  <button onClick={props.logout} className=\"btnDefault\">Log out</button></>\r\n                    : <NavLink to={'/login'} className=\"btnDefault\">Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {FORM_ERROR} from \"final-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst GET_CAPTCHA_SUCCESS = 'GET_CAPTCHA_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n    return {type: SET_USER_DATA, payload: {userId, email, login, isAuth}}\r\n}\r\n\r\nexport const getCaptchaSuccess = (captchaUrl) => {\r\n    return {type: GET_CAPTCHA_SUCCESS, payload: {captchaUrl}}\r\n}\r\n\r\nexport const getAuthUser = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.auth()\r\n        if (response.data.resultCode === 0) {\r\n            let {id, login, email} = response.data.data\r\n            dispatch(setAuthUserData(id, login, email, true))\r\n        }\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.login(email, password, rememberMe, captcha)\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUser())\r\n        } else {\r\n            if (response.data.resultCode === 10) {\r\n                dispatch(getCaptcha())\r\n            }\r\n            return {[FORM_ERROR]: message}\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout()\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    }\r\n}\r\n\r\nexport const getCaptcha = () => {\r\n    return async (dispatch) => {\r\n        let response = await securityAPI.getCaptcha()\r\n        const captcha = response.data.url\r\n        dispatch(getCaptchaSuccess(captcha))\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);\r\n\r\n","import React from 'react'\r\nimport {Form, Field} from 'react-final-form'\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {getCaptcha, login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    if (props.isAuth) {return <Redirect to={\"/profile\"}/>}\r\n    \r\n    const onSubmit = async (formData) => {\r\n        return await props.login(formData.email, formData.password, formData.rememberMe, formData.captchaUrl)\r\n    };\r\n    return (\r\n        <>\r\n            <h1>Login</h1>\r\n            <Form\r\n                onSubmit={onSubmit}>\r\n                {({handleSubmit, submitError}) => (\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div>\r\n                            <div><Field name=\"email\" component={Input} placeholder=\"email\" validate={required}/></div>\r\n                            <div><Field name=\"password\" component={Input} placeholder=\"input\" validate={required}\r\n                                        type={\"password\"}/></div>\r\n                            <div><Field component={Input} name={\"rememberMe\"} type={\"checkbox\"}/> remember me</div>\r\n                        </div>\r\n                        <button type=\"submit\">Login</button>\r\n\r\n                        {props.captchaUrl && <img src={props.captchaUrl} alt={\"captcha\"}/>}\r\n                        {props.captchaUrl && <Field component={Input}\r\n                                                    name={\"captchaUrl\"}\r\n                                                    placeholder={\"symbols from image\"}\r\n                                                    validate={required}/>}\r\n\r\n                        <p>{submitError && <div>{submitError}</div>}</p>\r\n                    </form>\r\n                )}\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(LoginForm);","import {getAuthUser} from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUser())\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n}","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n})\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {BrowserRouter, Redirect, Route, Switch} from \"react-router-dom\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Profile/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\n\nclass App extends React.Component {\n\n    catchAllUnhandledErrors = (reason, promise) => {\n        alert(\"Some error occured\");\n        //console.error(promiseRejectionEvent);\n    }\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n    render() {\n\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <React.Suspense fallback={<Preloader/>}>\n                        <Switch>\n                            <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n                            <Route path='/dialogs' render={() => <DialogsContainer/>}/>\n                            <Route path='/users' render={() => <UsersContainer/>}/>\n                            <Route path='/login' render={() => <Login/>}/>\n                            <Redirect exact from=\"/social-network-react\" to=\"/profile/:userId?\" />\n                            <Route path='*' render={() => <div>not found 404</div>}/>\n                        </Switch>\n                    </React.Suspense>\n                    {/*<Route path='/news' component={News}/>*/}\n                    {/*<Route path='/music' component={Music}/>*/}\n                    {/*<Route path='/settings' component={Settings}/>*/}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = connect(mapStateToProps, {initializeApp})(App)\n\nexport const MainApp = (props) => {\n    return (\n        <BrowserRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </BrowserRouter>\n    )\n}\n","import React from 'react';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {MainApp} from './App';\n\n\nReactDOM.render(\n     <MainApp/>, document.getElementById('root')\n);\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}